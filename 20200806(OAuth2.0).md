[链接](https://www.ruanyifeng.com/blog/2019/04/oauth_design.html)

#### 定义
> OAuth 就是一种授权机制。数据的所有者告诉系统，同意授权第三方应用进入系统，获取数据。系统从而产生一个短期的进入令牌（token），用来代替密码，供第三方应用使用
> OAuth 引入了一个授权层，用来分离两种不同的角色：客户端和资源所有者。......资源所有者同意以后，资源服务器可以向客户端颁发令牌。客户端通过令牌，去请求数据

#### 授权类型(颁发令牌方式)
> 不管哪一种授权方式，第三方应用申请令牌之前，都必须先到系统备案，说明自己的身份，然后会拿到两个身份识别码：客户端 ID（client ID）和客户端密钥（client secret）。这是为了防止令牌被滥用，没有备案过的第三方应用，是不会拿到令牌的。
1. 授权码
> 第三方应用先申请一个授权码，然后再用该码获取令牌。
> 第一步，A 网站提供一个链接，用户点击后就会跳转到 B 网站，授权用户数据给 A 网站使用。
> 第二步，用户跳转后，B 网站会要求用户登录，然后询问是否同意给予 A 网站授权。用户表示同意,会传回一个授权码
> 第三步，A 网站拿到授权码以后，就可以在后端，向 B 网站请求令牌。
> 第四步，B 网站收到请求以后，就会颁发令牌,B网站可以用令牌获取信息
2. 授权码隐藏式
> 第一步，A 网站提供一个链接，要求用户跳转到 B 网站，授权用户数据给 A 网站使用。
> 第二步，用户跳转到 B 网站，登录后同意给予 A 网站授权。B 网站就会跳回redirect_uri参数指定的跳转网址，并且把令牌作为 URL 参数，传给 A 网站。令牌的位置是 URL 锚点（fragment），而不是查询字符串（querystring），这是因为 OAuth 2.0 允许跳转网址是 HTTP 协议，因此存在"中间人攻击"的风险，而浏览器跳转时，锚点不会发到服务器，就减少了泄漏令牌的风险
3. 密码式
> 如果你高度信任某个应用，RFC 6749 也允许用户把用户名和密码，直接告诉该应用。该应用就使用你的密码，申请令牌，这种方式称为"密码式"（password）。
4. 凭证式
> A 应用在命令行向 B 发出请求。携带账号密码，然后返回令牌

#### 刷新令牌
> 颁发令牌的时候，一次性颁发两个令牌，一个用于获取数据，另一个用于获取新的令牌(refresh token)


